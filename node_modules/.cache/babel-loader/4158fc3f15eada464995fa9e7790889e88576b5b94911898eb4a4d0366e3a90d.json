{"ast":null,"code":"var _jsxFileName = \"/Users/sagisimchi/Documents/GitHub/dent2-client/src/pages/websitePages/WriterSettingsPage.tsx\",\n  _s = $RefreshSig$();\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport \"react-js-cron/dist/styles.css\";\nimport { useRecoilState } from \"recoil\";\nimport { useParams } from \"react-router\";\nimport { Controller, FormProvider, useForm } from \"react-hook-form\";\nimport FormStyle from \"../../components/common/form/FormStyle\";\nimport { Dropdown } from \"primereact/dropdown\";\nimport styled from \"styled-components\";\nimport languages from \"../../core/constants/languages\";\nimport Goals from \"../../components/writerSettings/Goals\";\nimport Tone from \"../../components/writerSettings/Tone\";\nimport AddCustomVoiceModal from \"../../components/modals/AddCustomVoiceModal\";\nimport { writerState } from \"../../state/writerState\";\nimport writerService from \"../../core/services/writer.service\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst SectionTitle = styled.div`\n  font-size: 18px;\n  font-weight: 600;\n  letter-spacing: -0.029rem;\n  margin-top: 10px;\n  color: var(--title-color);\n`;\n_c = SectionTitle;\nconst SectionSubTitle = styled.div`\n  font-size: 14px;\n  font-weight: 500;\n  letter-spacing: -0.029rem;\n  margin-bottom: 30px;\n  color: var(--text-color);\n`;\nconst WriterSettingsPage = () => {\n  _s();\n  const {\n    websiteId\n  } = useParams();\n  const [writer, setWriter] = useRecoilState(writerState(websiteId));\n  const methods = useForm({\n    values: writer\n  });\n  const watch = [methods.watch(\"goal\"), methods.watch(\"language\"), methods.watch(\"tone\")];\n  const onSubmit = useCallback(async data => {\n    try {\n      setWriter(data);\n      await writerService.updateWriter(writer.id, data);\n    } catch (err) {\n      console.log(err);\n    }\n  }, []);\n  useEffect(() => {\n    methods.handleSubmit(onSubmit)();\n  }, [...watch]);\n  const [showAddVoiceModal, setShowAddVoiceModal] = useState(false);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(FormProvider, {\n      ...methods,\n      children: /*#__PURE__*/_jsxDEV(FormStyle, {\n        className: \"mb-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-12\",\n            children: [/*#__PURE__*/_jsxDEV(SectionTitle, {\n              className: \"mb-5 mt-3\",\n              children: [\"\\u05D1\\u05D7\\u05E8 \\u05D0\\u05EA \\u05DE\\u05D8\\u05E8\\u05EA \\u05D4\\u05DB\\u05D5\\u05EA\\u05D1 \\u05E9\\u05DC\\u05DA\", \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Goals, {\n              fieldName: \"goal\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-content-between\",\n              children: /*#__PURE__*/_jsxDEV(SectionTitle, {\n                className: \"mb-4 mt-5\",\n                children: [\"\\u05D1\\u05D7\\u05E8 \\u05D0\\u05EA \\u05E7\\u05D5\\u05DC \\u05D4\\u05DB\\u05D5\\u05EA\\u05D1 \\u05E9\\u05DC\\u05DA\", \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Tone, {\n              fieldName: \"tone\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(SectionTitle, {\n              className: \"mb-4 mt-3\",\n              children: \"\\u05D4\\u05D2\\u05D3\\u05E8\\u05D5\\u05EA \\u05DE\\u05EA\\u05E7\\u05D3\\u05DE\\u05D5\\u05EA\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-4 \",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"language\",\n              children: \"\\u05E9\\u05E4\\u05EA \\u05D4\\u05DB\\u05D5\\u05EA\\u05D1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Controller, {\n              name: \"language\",\n              control: methods.control,\n              render: _ref => {\n                let {\n                  field,\n                  formState\n                } = _ref;\n                return /*#__PURE__*/_jsxDEV(Dropdown, {\n                  className: methods.formState.errors.language ? \"p-invalid\" : \"\",\n                  value: field.value,\n                  onChange: e => {\n                    field.onChange(e);\n                  },\n                  options: languages,\n                  placeholder: \"Select Language\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 118,\n                  columnNumber: 19\n                }, this);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this), showAddVoiceModal && /*#__PURE__*/_jsxDEV(React.Suspense, {\n      fallback: \"\",\n      children: /*#__PURE__*/_jsxDEV(AddCustomVoiceModal, {\n        onHide: () => setShowAddVoiceModal(false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n_s(WriterSettingsPage, \"TEupbd/qqXimbspc3b5fgaRtgyk=\", false, function () {\n  return [useParams, useRecoilState, useForm];\n});\n_c2 = WriterSettingsPage;\nexport default WriterSettingsPage;\nvar _c, _c2;\n$RefreshReg$(_c, \"SectionTitle\");\n$RefreshReg$(_c2, \"WriterSettingsPage\");","map":{"version":3,"names":["React","useCallback","useEffect","useState","useRecoilState","useParams","Controller","FormProvider","useForm","FormStyle","Dropdown","styled","languages","Goals","Tone","AddCustomVoiceModal","writerState","writerService","jsxDEV","_jsxDEV","Fragment","_Fragment","SectionTitle","div","_c","SectionSubTitle","WriterSettingsPage","_s","websiteId","writer","setWriter","methods","values","watch","onSubmit","data","updateWriter","id","err","console","log","handleSubmit","showAddVoiceModal","setShowAddVoiceModal","children","className","fileName","_jsxFileName","lineNumber","columnNumber","fieldName","htmlFor","name","control","render","_ref","field","formState","errors","language","value","onChange","e","options","placeholder","Suspense","fallback","onHide","_c2","$RefreshReg$"],"sources":["/Users/sagisimchi/Documents/GitHub/dent2-client/src/pages/websitePages/WriterSettingsPage.tsx"],"sourcesContent":["import React, {\n  BaseSyntheticEvent,\n  useCallback,\n  useEffect,\n  useState,\n} from \"react\";\nimport Card from \"../../components/common/Card\";\nimport \"react-js-cron/dist/styles.css\";\nimport { workerState } from \"../../state/workerState\";\nimport { useRecoilState } from \"recoil\";\nimport { useParams } from \"react-router\";\n\nimport {\n  Controller,\n  FormProvider,\n  SubmitHandler,\n  useForm,\n} from \"react-hook-form\";\nimport FormStyle from \"../../components/common/form/FormStyle\";\n\nimport { Dropdown, DropdownChangeEvent } from \"primereact/dropdown\";\nimport WebsiteTabsNav from \"../../components/website/WebsiteTabsNav\";\n\nimport styled from \"styled-components\";\n\nimport languages from \"../../core/constants/languages\";\nimport { ReactComponent as LogoIcon } from \"../../assets/Logo/BlackIcon.svg\";\n\nimport Goals from \"../../components/writerSettings/Goals\";\nimport Tone from \"../../components/writerSettings/Tone\";\n\nimport Button from \"../../components/common/form/Button\";\nimport AddCustomVoiceModal from \"../../components/modals/AddCustomVoiceModal\";\nimport { writerState } from \"../../state/writerState\";\nimport { Writer } from \"../../core/entities/writer\";\nimport writerService from \"../../core/services/writer.service\";\nimport CardIconTitle from \"../../components/common/CardIconTitle\";\nimport { Skeleton } from \"primereact/skeleton\";\nimport GmailLogo from \"../../assets/images/integrations/gmail-logo.png\";\nimport CardTitle from \"../../components/common/CardTitle\";\nimport { ReactComponent as InformativeIcon } from \"../../assets/Icons/Infoformative.svg\";\nimport Badge from \"../../components/common/Badge\";\n\nconst SectionTitle = styled.div`\n  font-size: 18px;\n  font-weight: 600;\n  letter-spacing: -0.029rem;\n  margin-top: 10px;\n  color: var(--title-color);\n`;\n\nconst SectionSubTitle = styled.div`\n  font-size: 14px;\n  font-weight: 500;\n  letter-spacing: -0.029rem;\n  margin-bottom: 30px;\n  color: var(--text-color);\n`;\n\nconst WriterSettingsPage: React.FC = () => {\n  const { websiteId } = useParams();\n  const [writer, setWriter] = useRecoilState(writerState(websiteId as string));\n  const methods = useForm<Writer>({ values: writer });\n\n  const watch = [\n    methods.watch(\"goal\"),\n    methods.watch(\"language\"),\n    methods.watch(\"tone\"),\n  ];\n\n  const onSubmit: SubmitHandler<Writer> = useCallback(async (data: Writer) => {\n    try {\n      setWriter(data);\n      await writerService.updateWriter(writer.id, data);\n    } catch (err) {\n      console.log(err);\n    }\n  }, []);\n\n  useEffect(() => {\n    methods.handleSubmit(onSubmit)();\n  }, [...watch]);\n\n  const [showAddVoiceModal, setShowAddVoiceModal] = useState(false);\n\n  return (\n    <>\n      {/* <WebsitePageLayout /> */}\n      <FormProvider {...methods}>\n        <FormStyle className=\"mb-4\">\n          <div className=\"grid\">\n            <div className=\"col-12\">\n              <SectionTitle className=\"mb-5 mt-3\">\n                בחר את מטרת הכותב שלך{\" \"}\n              </SectionTitle>\n              <Goals<Writer> fieldName=\"goal\" />\n\n              <div className=\"flex justify-content-between\">\n                <SectionTitle className=\"mb-4 mt-5\">\n                  בחר את קול הכותב שלך{\" \"}\n                </SectionTitle>\n                {/* <Button\n                  arrowPlacement=\"right\"\n                  onClick={() => setShowAddVoiceModal(true)}\n                >\n                  Add custom voice\n                </Button> */}\n              </div>\n              <Tone<Writer> fieldName=\"tone\" />\n              <SectionTitle className=\"mb-4 mt-3\">הגדרות מתקדמות</SectionTitle>\n            </div>\n            <div className=\"col-4 \">\n              <label htmlFor=\"language\">שפת הכותב</label>\n              <Controller\n                name=\"language\"\n                control={methods.control}\n                render={({ field, formState }) => (\n                  <Dropdown\n                    className={\n                      methods.formState.errors.language ? \"p-invalid\" : \"\"\n                    }\n                    value={field.value}\n                    onChange={(e) => {\n                      field.onChange(e);\n                    }}\n                    options={languages}\n                    placeholder=\"Select Language\"\n                  />\n                )}\n              />\n            </div>\n          </div>\n        </FormStyle>\n      </FormProvider>\n      {/* <Divider />\n        <div className=\"col-12 mb-5\">\n          <LinksManage />\n        </div> */}\n      {showAddVoiceModal && (\n        <React.Suspense fallback={\"\"}>\n          <AddCustomVoiceModal onHide={() => setShowAddVoiceModal(false)} />\n        </React.Suspense>\n      )}\n    </>\n  );\n};\n\nexport default WriterSettingsPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}