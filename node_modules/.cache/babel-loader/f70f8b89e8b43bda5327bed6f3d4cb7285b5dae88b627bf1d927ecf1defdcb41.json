{"ast":null,"code":"var _jsxFileName = \"/Users/sagisimchi/Documents/GitHub/dent2-client/src/components/document/components/BlockWrapper.tsx\",\n  _s = $RefreshSig$();\nimport React, { useCallback, useRef, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { useParams } from \"react-router\";\nimport { useRecoilValue } from \"recoil\";\nimport { ReactComponent as InstagramEdit } from \"../../../assets/Icons/InstagramEdit.svg\";\nimport { ReactComponent as SendIcon } from \"../../../assets/Icons/Send.svg\";\nimport { ReactComponent as CopyIcon } from \"../../../assets/Icons/Copy.svg\";\nimport { ReactComponent as DeletIcon } from \"../../../assets/Icons/InstagramDelet.svg\";\nimport Button from \"../../common/form/Button\";\nimport { documentState } from \"../../../state/documentState\";\nimport documentsDictionary from \"../documentsDictionary\";\nimport Card from \"../../common/Card\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Wrapper = styled(Card)`\n  padding: 0;\n`;\n_c = Wrapper;\nconst ButtonsWrapper = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  border-top: 1px solid var(--Input-BorderColor, #e6e6e6);\n  padding: 10px;\n`;\n_c2 = ButtonsWrapper;\nconst IconButton = styled.button`\n  cursor: pointer;\n\n  background: white;\n  color: white;\n  align-items: center;\n  border-radius: 8px;\n  border: 1px solid #e6e6e6;\n  justify-content: center;\n  height: 45px;\n  width: 45px;\n  svg {\n    fill: white;\n    width: 20px;\n    height: 20px;\n  }\n  &:hover {\n    border: 1px solid var(--title-color, #e6e6e6);\n  }\n`;\n_c3 = IconButton;\nexport const BlockWrapper = _ref => {\n  _s();\n  let {\n    index,\n    onDelet\n  } = _ref;\n  const {\n    documentId\n  } = useParams();\n  const document = useRecoilValue(documentState(documentId));\n  const childRef = useRef(null);\n  const [editState, setEditState] = useState(false);\n  const BlockComponent = documentsDictionary[document.type].block;\n  const onEdit = useCallback(() => {\n    setEditState(prevState => !prevState);\n  }, [editState]);\n  const onCopy = copyText => {\n    navigator.clipboard.writeText(copyText);\n  };\n  const handleBlur = blockIndex => {\n    setEditState(false);\n  };\n  return /*#__PURE__*/_jsxDEV(Wrapper, {\n    children: [/*#__PURE__*/_jsxDEV(BlockComponent, {\n      isEditing: !!editState,\n      handleBlur: handleBlur,\n      blockIndex: index,\n      ref: childRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ButtonsWrapper, {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        disabled: true,\n        bgColor: \"purple\",\n        primary: true,\n        icon: /*#__PURE__*/_jsxDEV(SendIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 57\n        }, this),\n        children: [\"\\u05E4\\u05E8\\u05E1\\u05D5\\u05DD \\u05E4\\u05D5\\u05E1\\u05D8\", \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(IconButton, {\n          type: \"button\",\n          onClick: () => onDelet(index),\n          children: /*#__PURE__*/_jsxDEV(DeletIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n          className: \"mr-1\",\n          type: \"button\",\n          onClick: () => {\n            var _childRef$current;\n            if ((_childRef$current = childRef.current) !== null && _childRef$current !== void 0 && _childRef$current.onCopyCustom) {\n              const text = childRef.current.onCopyCustom();\n              onCopy(text);\n            }\n          },\n          children: /*#__PURE__*/_jsxDEV(CopyIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n          onClick: () => onEdit(),\n          className: \"mr-1\",\n          type: \"button\",\n          children: /*#__PURE__*/_jsxDEV(InstagramEdit, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 5\n  }, this);\n};\n_s(BlockWrapper, \"qvnCY4M8I5mV//QXmJKd1miXb0Y=\", false, function () {\n  return [useParams, useRecoilValue];\n});\n_c4 = BlockWrapper;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"Wrapper\");\n$RefreshReg$(_c2, \"ButtonsWrapper\");\n$RefreshReg$(_c3, \"IconButton\");\n$RefreshReg$(_c4, \"BlockWrapper\");","map":{"version":3,"names":["React","useCallback","useRef","useState","styled","useParams","useRecoilValue","ReactComponent","InstagramEdit","SendIcon","CopyIcon","DeletIcon","Button","documentState","documentsDictionary","Card","jsxDEV","_jsxDEV","Wrapper","_c","ButtonsWrapper","div","_c2","IconButton","button","_c3","BlockWrapper","_ref","_s","index","onDelet","documentId","document","childRef","editState","setEditState","BlockComponent","type","block","onEdit","prevState","onCopy","copyText","navigator","clipboard","writeText","handleBlur","blockIndex","children","isEditing","ref","fileName","_jsxFileName","lineNumber","columnNumber","disabled","bgColor","primary","icon","onClick","className","_childRef$current","current","onCopyCustom","text","_c4","$RefreshReg$"],"sources":["/Users/sagisimchi/Documents/GitHub/dent2-client/src/components/document/components/BlockWrapper.tsx"],"sourcesContent":["import React, {\n  RefAttributes,\n  useCallback,\n  useMemo,\n  useRef,\n  useState,\n} from \"react\";\nimport styled from \"styled-components\";\nimport { useParams } from \"react-router\";\nimport { useRecoilValue } from \"recoil\";\nimport { ReactComponent as InstagramEdit } from \"../../../assets/Icons/InstagramEdit.svg\";\nimport { ReactComponent as SendIcon } from \"../../../assets/Icons/Send.svg\";\nimport { ReactComponent as CopyIcon } from \"../../../assets/Icons/Copy.svg\";\nimport { ReactComponent as DeletIcon } from \"../../../assets/Icons/InstagramDelet.svg\";\nimport Button from \"../../common/form/Button\";\nimport { documentState } from \"../../../state/documentState\";\nimport { RefProps } from \"../blocks/types/refProps\";\nimport documentsDictionary from \"../documentsDictionary\";\nimport Card from \"../../common/Card\";\n\nconst Wrapper = styled(Card)`\n  padding: 0;\n`;\n\nconst ButtonsWrapper = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  border-top: 1px solid var(--Input-BorderColor, #e6e6e6);\n  padding: 10px;\n`;\n\nconst IconButton = styled.button`\n  cursor: pointer;\n\n  background: white;\n  color: white;\n  align-items: center;\n  border-radius: 8px;\n  border: 1px solid #e6e6e6;\n  justify-content: center;\n  height: 45px;\n  width: 45px;\n  svg {\n    fill: white;\n    width: 20px;\n    height: 20px;\n  }\n  &:hover {\n    border: 1px solid var(--title-color, #e6e6e6);\n  }\n`;\n\nexport const BlockWrapper: React.FC<{\n  index: number;\n  onDelet: (index: number) => void;\n}> = ({ index, onDelet }) => {\n  const { documentId } = useParams<{\n    documentId: string;\n  }>();\n\n  const document = useRecoilValue(documentState(documentId as string));\n\n  const childRef = useRef<RefProps | null>(null);\n\n  const [editState, setEditState] = useState<boolean>(false);\n\n  const BlockComponent = documentsDictionary[document.type].block;\n\n  const onEdit = useCallback(() => {\n    setEditState((prevState) => !prevState);\n  }, [editState]);\n\n  const onCopy = (copyText: string) => {\n    navigator.clipboard.writeText(copyText);\n  };\n\n  const handleBlur = (blockIndex: number) => {\n    setEditState(false);\n  };\n\n  return (\n    <Wrapper>\n      <BlockComponent\n        isEditing={!!editState}\n        handleBlur={handleBlur}\n        blockIndex={index}\n        ref={childRef}\n      />\n      <ButtonsWrapper>\n        <Button disabled bgColor=\"purple\" primary icon={<SendIcon />}>\n          פרסום פוסט{\" \"}\n        </Button>{\" \"}\n        <div>\n          <IconButton type=\"button\" onClick={() => onDelet(index)}>\n            <DeletIcon />\n          </IconButton>\n          <IconButton\n            className=\"mr-1\"\n            type=\"button\"\n            onClick={() => {\n              if (childRef.current?.onCopyCustom) {\n                const text = childRef.current.onCopyCustom();\n                onCopy(text);\n              }\n            }}\n          >\n            <CopyIcon />\n          </IconButton>\n          <IconButton onClick={() => onEdit()} className=\"mr-1\" type=\"button\">\n            <InstagramEdit />\n          </IconButton>\n        </div>\n      </ButtonsWrapper>\n    </Wrapper>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}