{"ast":null,"code":"import { atom, atomFamily, selector, selectorFamily } from \"recoil\";\nimport { websiteService } from \"../core/services/website.service\";\nconst websiteSelector = selector({\n  key: \"websiteSelector\",\n  get: () => websiteService.listWebsites()\n});\nexport const websitesStateSelector = atom({\n  key: \"websitesStateSelector\",\n  default: websiteSelector\n});\nexport const websiteState = atomFamily({\n  key: \"websiteState\",\n  default: selectorFamily({\n    key: \"websiteStateSelector\",\n    get: websiteId => async _ref => {\n      let {\n        get\n      } = _ref;\n      if (websiteId) {\n        const websites = get(websitesStateSelector);\n        return websites.find(website => website.id === websiteId) || websiteService.getWebsiteById(websiteId);\n      }\n    }\n  })\n});","map":{"version":3,"names":["atom","atomFamily","selector","selectorFamily","websiteService","websiteSelector","key","get","listWebsites","websitesStateSelector","default","websiteState","websiteId","_ref","websites","find","website","id","getWebsiteById"],"sources":["/Users/sagisimchi/Documents/GitHub/dent2-client/src/state/websitesState.ts"],"sourcesContent":["import { atom, atomFamily, selector, selectorFamily } from \"recoil\";\nimport { websiteService } from \"../core/services/website.service\";\nimport { Website } from \"../core/entities/website\";\n\nconst websiteSelector = selector<Website[]>({\n  key: \"websiteSelector\",\n  get: () => websiteService.listWebsites(),\n});\n\nexport const websitesStateSelector = atom<Website[]>({\n  key: \"websitesStateSelector\",\n  default: websiteSelector,\n});\n\nexport const websiteState = atomFamily<Website | undefined, string | null>({\n  key: \"websiteState\",\n  default: selectorFamily({\n    key: \"websiteStateSelector\",\n    get:\n      (websiteId: string | null) =>\n      async ({ get }) => {\n        if (websiteId) {\n          const websites = get(websitesStateSelector);\n          return (\n            (websites.find((website) => website.id === websiteId) as Website) ||\n            websiteService.getWebsiteById(websiteId)\n          );\n        }\n      },\n  }),\n});\n"],"mappings":"AAAA,SAASA,IAAI,EAAEC,UAAU,EAAEC,QAAQ,EAAEC,cAAc,QAAQ,QAAQ;AACnE,SAASC,cAAc,QAAQ,kCAAkC;AAGjE,MAAMC,eAAe,GAAGH,QAAQ,CAAY;EAC1CI,GAAG,EAAE,iBAAiB;EACtBC,GAAG,EAAEA,CAAA,KAAMH,cAAc,CAACI,YAAY,CAAC;AACzC,CAAC,CAAC;AAEF,OAAO,MAAMC,qBAAqB,GAAGT,IAAI,CAAY;EACnDM,GAAG,EAAE,uBAAuB;EAC5BI,OAAO,EAAEL;AACX,CAAC,CAAC;AAEF,OAAO,MAAMM,YAAY,GAAGV,UAAU,CAAqC;EACzEK,GAAG,EAAE,cAAc;EACnBI,OAAO,EAAEP,cAAc,CAAC;IACtBG,GAAG,EAAE,sBAAsB;IAC3BC,GAAG,EACAK,SAAwB,IACzB,MAAAC,IAAA,IAAmB;MAAA,IAAZ;QAAEN;MAAI,CAAC,GAAAM,IAAA;MACZ,IAAID,SAAS,EAAE;QACb,MAAME,QAAQ,GAAGP,GAAG,CAACE,qBAAqB,CAAC;QAC3C,OACGK,QAAQ,CAACC,IAAI,CAAEC,OAAO,IAAKA,OAAO,CAACC,EAAE,KAAKL,SAAS,CAAC,IACrDR,cAAc,CAACc,cAAc,CAACN,SAAS,CAAC;MAE5C;IACF;EACJ,CAAC;AACH,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}