{"ast":null,"code":"var _jsxFileName = \"/Users/sagisimchi/Documents/GitHub/dent2-client/src/components/common/form/AttachmentInput.tsx\",\n  _s = $RefreshSig$();\nimport styled from \"styled-components\";\nimport { ReactComponent as AddIcon } from \"../../../assets/Icons/PlusBorder.svg\";\nimport AttachmentsModal from \"./AttachmentsModal\";\nimport { useState } from \"react\";\nimport { useController } from \"react-hook-form\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst UploadImage = styled.div`\n  height: 140px;\n  width: 170px;\n  border-radius: 12px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: 1px dashed var(--border-color);\n  flex-direction: column;\n  transition-duration: 0.05s;\n  cursor: pointer;\n  position: relative;\n  background-image: url(${props => props.backgroundImage});\n  background-size: cover;\n  background-position: center;\n  svg {\n    width: 40px;\n    height: 40px;\n    fill: var(--border-color);\n  }\n  span {\n    font-weight: bold;\n    color: var(--border-color);\n  }\n  &:hover {\n    border: 2px dashed var(--primary-color);\n    svg {\n      fill: var(--primary-color);\n    }\n    span {\n      color: var(--primary-color);\n    }\n  }\n`;\n_c = UploadImage;\nfunction AttachmentInput(_ref) {\n  _s();\n  let {\n    name\n  } = _ref;\n  const [showAttachmentsModal, setShowAttachmentsModal] = useState(false);\n  const field = useController({\n    name\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(UploadImage, {\n      backgroundImage: field.field.value,\n      onClick: () => setShowAttachmentsModal(true),\n      children: !field.field.value && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\u05D4\\u05D5\\u05E1\\u05E3 \\u05EA\\u05DE\\u05D5\\u05E0\\u05D4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), showAttachmentsModal && /*#__PURE__*/_jsxDEV(AttachmentsModal, {\n      onSelectImage: img => {\n        field.field.onChange(img);\n        setShowAttachmentsModal(false);\n      },\n      onHide: () => setShowAttachmentsModal(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n}\n_s(AttachmentInput, \"I6pkrofKbpkFrssvj5qehIQDCIw=\", false, function () {\n  return [useController];\n});\n_c2 = AttachmentInput;\nexport default AttachmentInput;\nvar _c, _c2;\n$RefreshReg$(_c, \"UploadImage\");\n$RefreshReg$(_c2, \"AttachmentInput\");","map":{"version":3,"names":["styled","ReactComponent","AddIcon","AttachmentsModal","useState","useController","jsxDEV","_jsxDEV","Fragment","_Fragment","UploadImage","div","props","backgroundImage","_c","AttachmentInput","_ref","_s","name","showAttachmentsModal","setShowAttachmentsModal","field","children","value","onClick","fileName","_jsxFileName","lineNumber","columnNumber","onSelectImage","img","onChange","onHide","_c2","$RefreshReg$"],"sources":["/Users/sagisimchi/Documents/GitHub/dent2-client/src/components/common/form/AttachmentInput.tsx"],"sourcesContent":["import styled from \"styled-components\";\nimport { ReactComponent as AddIcon } from \"../../../assets/Icons/PlusBorder.svg\";\nimport AttachmentsModal from \"./AttachmentsModal\";\nimport { useState } from \"react\";\nimport { FieldValues, Path, useController } from \"react-hook-form\";\n\nconst UploadImage = styled.div<{ backgroundImage: string }>`\n  height: 140px;\n  width: 170px;\n  border-radius: 12px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: 1px dashed var(--border-color);\n  flex-direction: column;\n  transition-duration: 0.05s;\n  cursor: pointer;\n  position: relative;\n  background-image: url(${(props) => props.backgroundImage});\n  background-size: cover;\n  background-position: center;\n  svg {\n    width: 40px;\n    height: 40px;\n    fill: var(--border-color);\n  }\n  span {\n    font-weight: bold;\n    color: var(--border-color);\n  }\n  &:hover {\n    border: 2px dashed var(--primary-color);\n    svg {\n      fill: var(--primary-color);\n    }\n    span {\n      color: var(--primary-color);\n    }\n  }\n`;\n\nfunction AttachmentInput<FormDataType extends FieldValues>({\n  name,\n}: {\n  name: Path<FormDataType>;\n}) {\n  const [showAttachmentsModal, setShowAttachmentsModal] = useState(false);\n  const field = useController({\n    name,\n  });\n\n  return (\n    <div>\n      <UploadImage\n        backgroundImage={field.field.value}\n        onClick={() => setShowAttachmentsModal(true)}\n      >\n        {!field.field.value && (\n          <>\n            <AddIcon />\n            <span>הוסף תמונה</span>\n          </>\n        )}\n      </UploadImage>\n      {showAttachmentsModal && (\n        <AttachmentsModal\n          onSelectImage={(img) => {\n            field.field.onChange(img);\n            setShowAttachmentsModal(false);\n          }}\n          onHide={() => setShowAttachmentsModal(false)}\n        />\n      )}\n    </div>\n  );\n}\n\nexport default AttachmentInput;\n"],"mappings":";;AAAA,OAAOA,MAAM,MAAM,mBAAmB;AACtC,SAASC,cAAc,IAAIC,OAAO,QAAQ,sCAAsC;AAChF,OAAOC,gBAAgB,MAAM,oBAAoB;AACjD,SAASC,QAAQ,QAAQ,OAAO;AAChC,SAA4BC,aAAa,QAAQ,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAEnE,MAAMC,WAAW,GAAGV,MAAM,CAACW,GAAiC;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA2BC,KAAK,IAAKA,KAAK,CAACC,eAAgB;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,EAAA,GAjCIJ,WAAW;AAmCjB,SAASK,eAAeA,CAAAC,IAAA,EAIrB;EAAAC,EAAA;EAAA,IAJwD;IACzDC;EAGF,CAAC,GAAAF,IAAA;EACC,MAAM,CAACG,oBAAoB,EAAEC,uBAAuB,CAAC,GAAGhB,QAAQ,CAAC,KAAK,CAAC;EACvE,MAAMiB,KAAK,GAAGhB,aAAa,CAAC;IAC1Ba;EACF,CAAC,CAAC;EAEF,oBACEX,OAAA;IAAAe,QAAA,gBACEf,OAAA,CAACG,WAAW;MACVG,eAAe,EAAEQ,KAAK,CAACA,KAAK,CAACE,KAAM;MACnCC,OAAO,EAAEA,CAAA,KAAMJ,uBAAuB,CAAC,IAAI,CAAE;MAAAE,QAAA,EAE5C,CAACD,KAAK,CAACA,KAAK,CAACE,KAAK,iBACjBhB,OAAA,CAAAE,SAAA;QAAAa,QAAA,gBACEf,OAAA,CAACL,OAAO;UAAAuB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eACXrB,OAAA;UAAAe,QAAA,EAAM;QAAU;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA,eACvB;IACH;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACU,CAAC,EACbT,oBAAoB,iBACnBZ,OAAA,CAACJ,gBAAgB;MACf0B,aAAa,EAAGC,GAAG,IAAK;QACtBT,KAAK,CAACA,KAAK,CAACU,QAAQ,CAACD,GAAG,CAAC;QACzBV,uBAAuB,CAAC,KAAK,CAAC;MAChC,CAAE;MACFY,MAAM,EAAEA,CAAA,KAAMZ,uBAAuB,CAAC,KAAK;IAAE;MAAAK,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC9C,CACF;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV;AAACX,EAAA,CAlCQF,eAAe;EAAA,QAMRV,aAAa;AAAA;AAAA4B,GAAA,GANpBlB,eAAe;AAoCxB,eAAeA,eAAe;AAAC,IAAAD,EAAA,EAAAmB,GAAA;AAAAC,YAAA,CAAApB,EAAA;AAAAoB,YAAA,CAAAD,GAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}