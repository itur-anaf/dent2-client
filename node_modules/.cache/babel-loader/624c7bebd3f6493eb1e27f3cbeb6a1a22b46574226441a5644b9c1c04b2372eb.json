{"ast":null,"code":"var _jsxFileName = \"/Users/sagisimchi/Documents/GitHub/dent2-client/src/pages/UpdatePassword.tsx\",\n  _s = $RefreshSig$();\nimport { InputText } from \"primereact/inputtext\";\nimport { useState } from \"react\";\nimport userService from \"../core/services/user.service\";\nimport styled from \"styled-components\";\nimport { useForm } from \"react-hook-form\";\nimport { Message } from \"primereact/message\";\nimport RegexValidations from \"../core/validation/regexValidations\";\nimport FormStyle from \"../components/common/form/FormStyle\";\nimport Button from \"../components/common/form/Button\";\nimport AuthHeader from \"../components/auth/AuthHeader\";\nimport { useNavigate } from \"react-router\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LoginPageWrapper = styled.div`\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n`;\n_c = LoginPageWrapper;\nconst CenteredForm = styled(FormStyle)`\n  display: flex;\n  flex-direction: column;\n  align-content: center;\n  width: 30rem;\n  margin-bottom: 280px;\n  justify-content: center;\n  align-items: center;\n`;\n_c2 = CenteredForm;\nconst UpdatePassword = () => {\n  _s();\n  var _errors$password;\n  const {\n    register,\n    handleSubmit,\n    setError,\n    formState: {\n      errors\n    }\n  } = useForm({});\n  const navigate = useNavigate();\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const onSubmit = async data => {\n    try {\n      setIsLoading(true);\n      const res = await userService.updatePassword(data);\n      navigate(\"/\");\n    } catch (err) {\n      setError(\"root\", {});\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const ErrorMessageStyled = styled(Message)`\n    display: block;\n    width: fit-content;\n    margin-bottom: 20px;\n  `;\n  return /*#__PURE__*/_jsxDEV(LoginPageWrapper, {\n    children: [/*#__PURE__*/_jsxDEV(AuthHeader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CenteredForm, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full mb-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"\\u05E1\\u05D9\\u05E1\\u05DE\\u05D4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(InputText, {\n          ...register(\"password\", {\n            required: true,\n            maxLength: 20,\n            validate: value => value === confirmPassword || \"הססמאות לא זהות\",\n            pattern: {\n              value: RegexValidations.password,\n              message: \"הסיסמה לא מספיק חזקה\"\n            }\n          }),\n          type: \"password\",\n          placeholder: \"\\u05E1\\u05D9\\u05E1\\u05DE\\u05D4\",\n          className: errors.password ? \"p-invalid\" : \"\",\n          tooltip: (_errors$password = errors.password) === null || _errors$password === void 0 ? void 0 : _errors$password.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full mb-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"\\u05D0\\u05DE\\u05EA \\u05E1\\u05D9\\u05E1\\u05DE\\u05D4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(InputText, {\n          value: confirmPassword,\n          onChange: e => setConfirmPassword(e.target.value),\n          type: \"password\",\n          placeholder: \"\\u05D0\\u05DE\\u05EA \\u05E1\\u05D9\\u05E1\\u05DE\\u05D4\",\n          className: errors.password ? \"p-invalid\" : \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), errors.root && /*#__PURE__*/_jsxDEV(ErrorMessageStyled, {\n        className: \"mt-2\",\n        severity: \"error\",\n        text: \"\\u05D4\\u05E1\\u05D9\\u05E1\\u05DE\\u05D4 \\u05D6\\u05D4\\u05D4 \\u05DC\\u05E7\\u05D5\\u05D3\\u05DD\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: handleSubmit(onSubmit),\n        disabled: isLoading,\n        primary: true,\n        arrowPlacement: \"right\",\n        children: [\"\\u05E2\\u05D3\\u05DB\\u05DF \\u05E1\\u05D9\\u05E1\\u05DE\\u05D4\", \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n};\n_s(UpdatePassword, \"mZx7u18YgUQoujb1pj78RNdmO+8=\", false, function () {\n  return [useForm, useNavigate];\n});\n_c3 = UpdatePassword;\nexport default UpdatePassword;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"LoginPageWrapper\");\n$RefreshReg$(_c2, \"CenteredForm\");\n$RefreshReg$(_c3, \"UpdatePassword\");","map":{"version":3,"names":["InputText","useState","userService","styled","useForm","Message","RegexValidations","FormStyle","Button","AuthHeader","useNavigate","jsxDEV","_jsxDEV","LoginPageWrapper","div","_c","CenteredForm","_c2","UpdatePassword","_s","_errors$password","register","handleSubmit","setError","formState","errors","navigate","confirmPassword","setConfirmPassword","isLoading","setIsLoading","onSubmit","data","res","updatePassword","err","ErrorMessageStyled","children","fileName","_jsxFileName","lineNumber","columnNumber","className","required","maxLength","validate","value","pattern","password","message","type","placeholder","tooltip","onChange","e","target","root","severity","text","onClick","disabled","primary","arrowPlacement","_c3","$RefreshReg$"],"sources":["/Users/sagisimchi/Documents/GitHub/dent2-client/src/pages/UpdatePassword.tsx"],"sourcesContent":["import { InputText } from \"primereact/inputtext\";\nimport { useState } from \"react\";\nimport userService from \"../core/services/user.service\";\nimport styled from \"styled-components\";\nimport { SubmitHandler, useForm } from \"react-hook-form\";\nimport { Message } from \"primereact/message\";\n\nimport RegexValidations from \"../core/validation/regexValidations\";\nimport FormStyle from \"../components/common/form/FormStyle\";\nimport Button from \"../components/common/form/Button\";\nimport AuthHeader from \"../components/auth/AuthHeader\";\nimport { UpdatePasswordRequestData } from \"../core/services/requests/updatePassword/updatePasswordRequestData\";\nimport { useNavigate, useParams } from \"react-router\";\n\nconst LoginPageWrapper = styled.div`\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n`;\n\nconst CenteredForm = styled(FormStyle)`\n  display: flex;\n  flex-direction: column;\n  align-content: center;\n  width: 30rem;\n  margin-bottom: 280px;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst UpdatePassword: React.FC = () => {\n  const {\n    register,\n    handleSubmit,\n    setError,\n    formState: { errors },\n  } = useForm<UpdatePasswordRequestData>({});\n\n  const navigate = useNavigate();\n\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n\n  const onSubmit: SubmitHandler<UpdatePasswordRequestData> = async (data) => {\n    try {\n      setIsLoading(true);\n      const res = await userService.updatePassword(data);\n      navigate(\"/\");\n    } catch (err) {\n      setError(\"root\", {});\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const ErrorMessageStyled = styled(Message)`\n    display: block;\n    width: fit-content;\n    margin-bottom: 20px;\n  `;\n\n  return (\n    <LoginPageWrapper>\n      <AuthHeader />\n      <CenteredForm>\n        <div className=\"w-full mb-5\">\n          <label>סיסמה</label>\n          <InputText\n            {...register(\"password\", {\n              required: true,\n              maxLength: 20,\n              validate: (value) =>\n                value === confirmPassword || \"הססמאות לא זהות\",\n              pattern: {\n                value: RegexValidations.password,\n                message: \"הסיסמה לא מספיק חזקה\",\n              },\n            })}\n            type=\"password\"\n            placeholder=\"סיסמה\"\n            className={errors.password ? \"p-invalid\" : \"\"}\n            tooltip={errors.password?.message}\n          />\n        </div>\n        <div className=\"w-full mb-5\">\n          <label>אמת סיסמה</label>\n          <InputText\n            value={confirmPassword}\n            onChange={(e) => setConfirmPassword(e.target.value)}\n            type=\"password\"\n            placeholder=\"אמת סיסמה\"\n            className={errors.password ? \"p-invalid\" : \"\"}\n          />\n        </div>\n        {errors.root && (\n          <ErrorMessageStyled\n            className=\"mt-2\"\n            severity=\"error\"\n            text=\"הסיסמה זהה לקודם\"\n          />\n        )}\n        <Button\n          onClick={handleSubmit(onSubmit)}\n          disabled={isLoading}\n          primary\n          arrowPlacement=\"right\"\n        >\n          עדכן סיסמה{\" \"}\n        </Button>\n      </CenteredForm>\n    </LoginPageWrapper>\n  );\n};\n\nexport default UpdatePassword;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}